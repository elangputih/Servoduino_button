#include <Servo.h>

// Definisikan Pin
const int servoPin = 9;   // Pin untuk Sinyal Servo (biasanya PWM)
const int buttonPin = 2;  // Pin untuk Input Tombol (pin digital)

// Inisialisasi Objek
Servo myservo; // Buat objek servo

// Variabel Status
int buttonState = 0; // Variabel untuk menyimpan status tombol
int servoPos = 0;    // Variabel untuk menyimpan posisi servo saat ini

void setup() {
  // Inisialisasi Komponen
  myservo.attach(servoPin);       // Pasang objek servo ke pin 9
  pinMode(buttonPin, INPUT_PULLUP); // Atur pin tombol sebagai INPUT_PULLUP
  
  // Set posisi awal servo ke 0 derajat
  myservo.write(servoPos);
}

void loop() {
  // Baca status tombol
  buttonState = digitalRead(buttonPin);

  // Cek apakah tombol DITEKAN (menggunakan INPUT_PULLUP, tombol ditekan berarti LOW)
  if (buttonState == LOW) {
    // Tombol ditekan, ubah posisi servo
    
    // Logika pengubahan posisi (misalnya, berputar 90 derajat setiap kali ditekan)
    if (servoPos == 0) {
      servoPos = 90; // Pindah ke 90 derajat
    } else if (servoPos == 90) {
      servoPos = 180; // Pindah ke 180 derajat
    } else {
      servoPos = 0; // Kembali ke 0 derajat (siklus berulang)
    }

    // Gerakkan Servo ke posisi yang baru
    myservo.write(servoPos);

    // Debounce: Tunggu sebentar setelah tombol ditekan untuk menghindari pembacaan ganda
    delay(500); // Tunggu 500 milidetik
  }
  
  // Tidak ada yang dilakukan jika tombol tidak ditekan
}
